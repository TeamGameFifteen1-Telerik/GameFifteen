Refactoring Documentation for Project “Game Fifteen"                                                                                                                          
------------------------------------------------------

1.  Redesigned the project structure: **Team “Game-Fifteen-1”**
	- Renamed the solution to *GameFiteen*.
	- Created separate projects to separate the logic: 
		- *GameFifteen.Common*, 
		- *GameFifteen.Console*, 
		- *GameFifteen.Logic*, 
		- *GameFifteen.Models*.
	- Renamed classes: 
		- *Gameplay* to *StandartGameFifteenEngine*
		- *MatrixGenerator* to *Grid*
		- *Program* to *GameFifteenMain*
	- Moved classes:
		-  *StandartGameFifteenEngine*, *Command* to project *GameFifteen.Logic*
		-  *Player*, *Tile*, *Grid*, *Scoreboard* to *GameFifteen.Models*
		-  *GameFifteenMain* to *GameFifteen.Console*
	- *Command* class turned into *Command* enum. Method ```CommandType()``` redesigned.
	- Class *Grid* and class *Scoreboard* are no longer static.
2.  Introduced new classes:
	- *GameFifteen.Common*:
		- *GlobalConstants*	
			- Holds global game constants.
			- Global constants moved to *GlobalConstants* class.
		- *GameMessages*
			- Stores common game messages.
		- *IEnumerableExtensions*
			- Holds extension methods for IEnumerable collection.
	- *GameFifteen.Logic*:
		- *Engine*
			- An abstract class, implements *IEngine* and holds a reference to *IGameInitializater*
		- *StandardFifteenTilesEngine*
			- Takes IRenderer, IUserInterface, IGameInitializater, IPlayer, IGrid objects as parameters
			- Game logic implementation.
				- Initializes and starts a new game.
				- Processes user commands.			
			- *Strategy* design pattern: IRenderer, IUserInterface objects
			- *Bridge* design pattern: IGameInitializer object.
		- *StandartGameInitializer*
			- Hold the logic to initialize a new Grid.
	- *GameFifteen.Models*:
		- *GameMember*
			- Abstract game member class
		- *Memento*
			- A class to save game state when the player saves their game.
			- Also used to save game state after each move for ```game``` command.
		- *GridMemory*
			- To store saved game mementos (*Memento* design pattern - Caretaker)
		- *TilePrototype*
			- Abstract class for cloning tiles.
			- *Prototype* design pattern.
	- *GameFifteen.Console*
		- *ConsoleRenderer*
			- Method ```PrintScoreboard()``` moved from *Scoreboard* to *ConsoleRenderer* and renamed to ```RenderScoreboard()```. Redesigned.
			- Method ```PrintMatrix()``` moved from *Grid* to *ConsoleRenderer* and renamed to ```RenderGrid()```. Redesigned.
			- Added new method ```RenderMessage()``` to render a single message.
			- Added new method ```RenderInitialScreen()``` to render initial game screen.
			- Added new method ```RenderGameOptions()``` to render game options.
			- Added new method ```RenderPlayScreen()``` to render play screen.
			- Added Helper methods:
				- ```PrintOnPosition()```
				- ```SetInitialConsoleSize()```
				- ```SaveCursorCurrentPosition()```
				- ```ResetCursorToPreviousPosition()```
				- ```ResetConsoleColor()```
				- ```ClearConsolePart()```
				- ```ClearConsole()```
			- Added new method ```AddStyle()``` for ```style``` command.
		- *GameImages*
			- Holds ascii strings to display on the console.
		- *RenderConstants*
			- Holds constants used by the *ConsoleRenderer*.
		- *ConsoleInterface*
			- Method ```GetUserInput()``` to get user input from the console.
			- Method ```GetCommandFromInput()``` to get the user's input and return a Command enum member.
			- Method ```ExitGame()``` for game exit.
		- *GameFifteenStarter*
			- *Facade*
			- *Singleton*
			- Method NewGame() to start a new game. Gets all dependencies using Ninject and runs the game engine.
		- *Bindings*
			- Configuration class to configure dependencies via Ninject. *Object pool*.
		- **Style**
			- *GridBorderStyle*
				- An abstract class for a grid border.
			- *AsteriskStyle*, *DottedStyle*, *DoubleStyle*, *FatStyle*, *MiddleFatStyle*, *SolidStyle*
				- Different grid border styles.
			- *BorderStyleFactory*
				- *Simple factory* to create different border styles.
			- *Decorator*
				- Abstract class used to decorate game members.
			- *GridWithBorder*
				- Concrete decorator class - adds border to a grid.
		
3.  Redesigned project logic:
	- Class *Grid*:
		- Introduced new properties ```TilesCount``` and ```IsSorted```
		- Introduced new field *tiles* to hold all tiles
		- Refactored methods:
			- ```GenerateMatrix()``` (renamed to ```InitializeGrif()```) - removed new List of tiles initialization, made method void, renamed variables. Moved to *StandartGameInitializer*.
			- ```ShuffleMatrix()``` (renamed to ```ShuffleGrid()```) - moved random initialization to the static constructor, removed new matrix initialization, made method void, renamed variables. Moved to *StandartGameInitializer*.
			- ```MoveFreeTile()``` (renamed to ```MoveEmptyTileRandomly()```) - extracted logic to separate methods (```SwapTiles()``` and (```GetNeighbours()```). Moved to *StandartGameInitializer*.
			- ```GenerateNeighbourTilesList()``` (renamed to ```GetNeighbours()```) - now returns a full list of valid neighbours. Moved to *StandartGameInitializer*.
			- ```DetermineFreeTile()``` (renamed to *GetEmptyTile()*) - removed unneeded variable initialization, uses new field *tiles*; 
			- ```AreValidNeighbourTiles()``` (renamed to *CanSwap()*) - conditions assigned to variables to make code more readable.
		- Extracted methods *GetTileAtPosition()*, *GetTileFromLable()*, *CheckIfSorted()*, *SwapTiles()*
		- Added new methods:
			- ```AddTile()``` to add tiles
			- ```GetEnumerator()``` to iterate over the grid.
			- ```SaveMemento()``` to save grid state at certain point.
			- ```RestoreMemento()``` to restore saved  grid state.
			- ```GetTextRepresentation()``` to get grid as text.
	- Class *Tile*
		- Added new methods to ```CloneMemberwise()``` and ```Clone()``` to clone a tile.
		- Added new method ```GetTextRepresentation()``` to get tile as text.
	- Class *Scoreboard*
		- Lazy initialization
		- Players list is now initialized in the constructor
		- Moved ```PrintScoreboard()``` to ConsoleRenderer.
		- Removed method ```DeleteAllExceptTopPlayers()```.
		- Added new method ```AddPlayer()``` to  add new player to players list.
		- Added new method ```Clear()``` to clear Scoreboard
		- Added new method ```GetTextRepresentation()``` to get scoreboard as text.
		- Added property ```TopPlayers``` to get all top players
	- Class *Player*
		- Added validations for player's name
		- Added new method ```GetTextRepresentation() to get player as text.
		- Added default name "Guest" if player doesn't enter name.		
	- Class *StandartGameFifteenEngine*
		- Removed methods ```GetFreeTilePosition()```, ```AreValidNeighbourTiles()```, ```TilePositionValidation()```, ```GetDestinationTilePosition()``` - logic moved to class *Grid* and *StandartGameInitializer*
		- Refactored method ```IsMatrixSolved()```
			- Extracted method ```AskForAnotherGame()``` to ask user for a new game.
			- Extracted method ```SaveScore()``` to save user's score.
			- Method ```IsGameOver()``` to check if game is over.
			- Method ```GameOver()``` to handle game end.
		- Method ```MoveTiles()``` moved from class *StandartGameFifteenEngine* to class *StandartGameInitializer* and refactored (variables renamed, methods extracted)
		- Added method ```ExecuteCommand()``` to handle commands.
		- Added separate methods for different commands: ```ExecuteMenuCommand()```, ```ExecuteStartCommand()```, ```ExecuteGameCommand()```, ```ExecuteHowCommand()```, ```ExecuteTopCommand()```, ```ExecuteRestartCommand()```, ```ExecuteMoveCommand()```, ```ExecuteStyleCommand()```, ```ExecuteSaveCommand()```, ```ExecuteLoadCommand()```, ```ExecuteSolveCommand()```, ```ExecuteExitCommand()``` to handle commands.
		- Added method ```UserAgrees()``` to get user's agreement for some commands.
		- Added methods ```IsValidMove()``` and ```IsValidTileLabel()``` to validate ```move``` command.
		- Added method ```SaveCurrentGameState()``` to save current game state.
		- Added method ```Initialize()``` to initialize the initial game screen.
		- Added method ```Run()``` to initialize the play screen.	
	- Class *GameFifteenMain*:
		- Logic from method *Menu* moved to method Run in class *StandartGameFifteenEngine*
		- Gets an instance of GameFifteenStarter and runs ```NewGame()```	
	- Added interfaces:
		- *GameFifteen.Logic*
			- *IRenderer* to use in class *StandartGameFifteenEngine*
			- *IUserInterface* for user input, to use in class *StandartGameFifteenEngine*
			- *IEngine*
			- *IGameInitializater*
		- *GameFifteen.Models*
			- *IGameMember*
			- *IGrid*
			- *IPlayer*
		- *GameFifteen.Console*
			- *IStyle* - for styles on the grid
			- *IStyleFactory*
	- Added enumerations
		- *TileType*
		- *Command*
		- *BorderStyleType*
4.	Implemented Patterns
	- Creational
		- Singleton: 
			- [Scoreboard](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Models/Scoreboard.cs), - with Lazy<Scoreboard>
			- [GameFifteenStarter](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Console/GameFifteenStarter.cs)
		- Prototype: [Tile](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Models/Tile.cs#L106), [TilePrototype](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Models/TilePrototype.cs)
		- Simple Factory: [GridStyleFactory](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Console/Styles/BorderStyleFactory.cs)
		- Object Pool: [Warehouse - Bindings.cs](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Console/Config/Bindings.cs);
	- Structural
		- Façade: [GameFifteenStarter](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Console/GameFifteenStarter.cs), [GameFifteenMain](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Console/GameFifteenMain.cs)
		- Decorator: [Concrete decorator - GridWithBorder.cs](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Console/Styles/GridWithBorder.cs), [Abstract decorator - Decorator.cs](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Console/Styles/Decorator.cs)
		- Bridge: between [IGameInitializer](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Logic/Contracts/IGameInitializater.cs) and [Engine](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Logic/Engine.cs)
	- Behavioral
		- Memento [Originator - Grid](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Models/Grid.cs#L144), [Memento](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Models/Memento.cs), [Caretaker - GridMemory](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Models/GridMemory.cs)
		- Strategy - [StandartGameFifteenEngine.ctor()](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Logic/StandartGameFifteenEngine.cs), [IRenderer](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Logic/Contracts/IRenderer.cs), [IUserInterface](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Logic/Contracts/IUserInterface.cs)
		- Iterator - [Grid](https://github.com/TeamGameFifteen1-Telerik/GameFifteen/blob/master/Source/GameFifteen.Models/Grid.cs#L132) - IEnumerator GetEnumerator(), foreach 
5. Added unit tests
	- Console tests
	- Logic tests
	- Models tests
6. Code documented. Documentation exported to chm file.
7. New functionalities:
	- ```save``` and ```load``` game commands
	- ```style``` command to style the gird.
	- ```solve``` command for instant solve.
	- ```how``` command for game options.
	- ```game``` command to return to game screen
8. Fixed StyleCop warnings.
9. HQC principles
	- *SOLID*:
		- *S*: small methods and classes, each with one concrete purpose
		- *O*: easy to add different engine / game initializer / renderer, different type of grid or player without modifying. Also extend it with styles. Example: GridBorderStyle - easy to add a new style.
		- *L*: Example: Styles - GridBorderStyle class can be substituted by every style class
		- *I*: Small interfaces. Example: Logic.Contracts 
		- *D*: Classes take dependencies in their constructors. No initializations inside. Using Ninject to handle dependencies, loosely-coupled, highly-cohesive [DI advantages on wikipedia](https://en.wikipedia.org/wiki/Dependency_injection#Advantages)
	- *DRY*: repeating logic extracted to methods so they can be reused.
	- *Abstraction* - passing interfaces instead of implementations. Different projects handle different parts of the game. Easy to introduce custom game logic (for example more tiles). Easy to add a different Client. 